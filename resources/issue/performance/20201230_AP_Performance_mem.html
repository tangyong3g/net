<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.4.6 (461470)"/><meta name="author" content="汤勇-师爷"/><meta name="created" content="2020-12-31 02:31:54 +0000"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2020-12-31 02:32:49 +0000"/><title>20201230_AP_Performance_mem</title></head><body><div><br/></div><div><br/></div><div><span style="font-weight: bold;">Ap内存优化</span></div><hr/><div><br/></div><ul><li><div>AP过程绘制的内容</div></li><ul><li><div><input checked="true" type="checkbox"/>绘制地面</div></li><ul><li><div><input checked="true" type="checkbox"/>是否可以使用2.5的地面</div></li><ul><li><div><input checked="true" type="checkbox"/>有网格逻辑存在差异.大小也不一样.</div></li></ul></ul><li><div>绘制道路</div></li><ul><li><div><input checked="true" type="checkbox"/>计算当前楼层放到一个地方只计算一次</div></li><ul><li><div><input checked="true" type="checkbox"/>耗时不到1毫秒,暂时不处理.</div></li></ul><li><div><input checked="true" type="checkbox"/>初始化道路</div></li><ul><li><div><input checked="true" type="checkbox"/>释放原来的模型</div></li></ul><li><div><input checked="true" type="checkbox"/>刷新拟合道路的时候不要复制矩阵</div></li><li><div><input checked="true" type="checkbox"/>释放对象的时候再GL线程是否正确</div></li><li><div><input checked="true" type="checkbox"/>提高取样率.</div></li></ul><li><div>绘制局部轨迹</div></li><ul><li><div><input checked="true" type="checkbox"/>初始化局部轨迹</div></li><li><div><input checked="true" type="checkbox"/>转化坐标移动出来,到外面计算</div></li><ul><li><div><input checked="true" type="checkbox"/>提高约 3MS </div></li><li><div><a href="20201230_AP_Performance_mem.resources/performance_after.ap.short">performance_after.ap.short</a></div></li><li><div><a href="20201230_AP_Performance_mem.resources/performance.ap.before">performance.ap.before</a></div></li></ul></ul><li><div>绘制静态地图的车位</div></li><ul><li><div><input checked="true" type="checkbox"/>初始化,销毁上一轮数据.</div></li><li><div><input checked="true" type="checkbox"/>绘制</div></li><li><div><input checked="true" type="checkbox"/>更新坐标</div></li></ul><li><div>绘制车位相关</div></li><ul><li><div><input checked="true" type="checkbox"/>减速带</div></li><ul><li><div><input checked="true" type="checkbox"/>初始化</div></li><ul><li><div><input checked="true" type="checkbox"/>释放之前生成的对象</div></li><li><div><input checked="true" type="checkbox"/>测试获取楼层的成本.</div></li></ul><li><div><input checked="true" type="checkbox"/>绘制运动</div></li><ul><li><div><input checked="true" type="checkbox"/></div></li></ul></ul><li><div>Ap动态目标</div></li><ul><li><div><input checked="true" type="checkbox"/>测试生成对象</div></li><li><div><input checked="true" type="checkbox"/>结束时候销毁</div></li></ul><li><div>动态车位</div></li><ul><li><div><input checked="true" type="checkbox"/>检查过程中的对象生产</div></li></ul></ul><li><div>绘制自车</div></li></ul><div style="margin-left: 40px;"><br/></div></ul><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">AP巡航测试优化后</span></div><hr/><ul><li><div>初始值.    439936 KB </div></li><li><div>一次结束  501021KB</div></li><li><div>第二次      502856KB</div></li><li><div>第三次。   513884 KB</div></li><li><div>第四次。   518132 KB </div></li><li><div>第五次。   517357KB</div></li><li><div><br/></div></li></ul><div><br/></div><div><br/></div><div><br/></div><div><span style="font-weight: bold;">AP巡航内存测试优化前</span></div><div><br/></div><hr/><ul><li><div>初始                    447088KB</div></li><li><div>测试第一轮          513641KB</div></li><li><div>第二轮.                  552169KB</div></li><li><div>第三轮                   592456Kb </div></li><li><div>第四轮。              </div></li></ul><div><br/></div></body></html>